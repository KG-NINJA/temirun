# Vector Theremin Scanner 操作ガイド

単一ファイル `vector_theremin.html` をブラウザで開くと、COCO-SSD と Web Audio API を組み合わせたベクタースキャン風テルミンが起動します。以下の手順でプレイしてください。

## 1. 準備
- **HTTPS環境**でホストするか、`python3 -m http.server` などでローカルサーバーを立ててアクセスしてください。カメラ/マイク権限は HTTPS でないと遮断されます。
- 明るい場所で背景をシンプルにすると認識率が上がります。
- PC の CPU/GPU とカメラが有効であることを確認してください。

## 2. 起動
1. ページを開いたら中央の `POWER ON` をクリック。
2. ブラウザが表示する **カメラ許可** を承認します（音声は Web Audio が生成するのでマイク許可は不要）。
3. モデル読み込み完了後、HUD の `scan` が `ACTIVE` になります。

## 3. 操作
- **検出対象**: 人体、手、スマホ、ボールなど COCO-SSD が追える物体を動かします。
- **音程 (freq/note)**: 画面左→右へ動かすと低音→高音。ピッチアシストが自動で 12平均律へ寄せるので、狙った音名に近づけてから少し静止すれば安定します。
- **音量 (vol)**: 画面下→上へ持ち上げるほど音量アップ。中央以下に下げると自然に消音します。
- **フィルター**: 対象物の大きさでローパスフィルターのカットオフを変化させ、距離感に応じた音色を得ます。

## 4. HUD 読み方
- `freq`…スナップ後の周波数 (Hz)。
- `note`…現在の音名（C4 など）。
- `vol`…ゲイン値 (0.00–0.80)。
- `scan`…モデル状態。`SEARCHING` なら何も追えていません。

## 5. トラブルシュート
- **真っ暗／停止**: カメラ許可が拒否されていないか、別アプリが専有していないか確認。
- **ラグい/固まる**: 他のタブを閉じる、解像度を下げる（カメラ設定で 640x480 以下）。
- **ピッチが暴れる**: 手元をカメラ中央に保ち、背景を片付ける。必要に応じて `pitchAssist.mix` や `extent` を HTML 内で微調整。

## 6. カスタマイズのヒント
- `preferredClasses` へ物体名を追加すると特定のアイテムだけを楽器にできます。
- `updateAudioFromBox` の周波数/音量マッピング係数を変えると演奏範囲を拡張できます。
- カラーパレットやグリッド描画ロジックを調整すれば別のベクタースタイルにできます。

Happy scanning!
